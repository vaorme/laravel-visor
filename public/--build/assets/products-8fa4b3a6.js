import{c as u,d as p,a as l,r as d}from"./helpers-cf980081.js";import{d as f,M as m}from"./helpers-27e9ade0.js";let i=new m,y=["jpg","jpeg","png","webp","gif"];f(".frmo .dropzone #choose",y);const n=document.querySelector(".frmo form");if(n){n.addEventListener("submit",function(e){g(n)||e.preventDefault()});const t=n==null?void 0:n.elements.product_type;t==null||t.addEventListener("change",function(e){let o=e.target.value,r;o==1?(c(),r=document.querySelector("#option-"+o),setTimeout(()=>{u(r)},500)):o==2?(c(),r=document.querySelector("#option-"+o),setTimeout(()=>{u(r)},500)):c()})}document.addEventListener("click",function(t){if(!t.target.matches(".productDelete"))return;t.preventDefault();let e=t.target.getAttribute("data-id");i.fire({type:"warning",title:"Seguro que deseas eliminar?",text:"¡No podrás revertir esto!",confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"}).then(o=>{o.confirmed&&axios.delete(route("products.destroy",[e]),{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(function(r){Toastify({text:r.data.msg,className:"success",duration:1e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast();let a=document.querySelector(".alertify"),s=document.querySelector(".al-overlay");i.close(a,s),setTimeout(()=>{window.location.href=route("products.index")},1e3)}).catch(function(r){console.log(r)})}).catch(o=>{console.log(o)})});function c(){const t=document.querySelectorAll(".hidden");t&&t.forEach(e=>{p(e)})}function g(t){const e=t==null?void 0:t.elements;return e.name&&e.name.value==""?(e.name.focus(),l(e.name,"error"),Toastify({text:"Campo nombre requerido",className:"error",duration:2e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast(),!1):(e.name&&d(e.name,"error"),e.product_type&&e.product_type.value==""?(e.product_type.focus(),l(e.product_type,"error"),Toastify({text:"Campo tipo requerido",className:"error",duration:2e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast(),!1):(e.product_type&&d(e.product_type,"error"),!0))}document.addEventListener("click",function(t){if(!t.target.matches(".productTypeDelete"))return;t.preventDefault();let e=t.target.getAttribute("data-id");i.fire({type:"warning",title:"Seguro que deseas eliminar?",text:"¡No podrás revertir esto!",confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"}).then(o=>{o.confirmed&&axios.delete(route("product_types.destroy",[e]),{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(function(r){Toastify({text:r.data.msg,className:"success",duration:1e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast();let a=document.querySelector(".alertify"),s=document.querySelector(".al-overlay");i.close(a,s),setTimeout(()=>{window.location.href=route("product_types.index")},1e3)}).catch(function(r){console.log(r)})}).catch(o=>{console.log(o)})});
