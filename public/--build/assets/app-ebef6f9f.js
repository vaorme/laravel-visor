import{m as l,T as w}from"./toastify-2295babd.js";import{m as g,d as q}from"./tippy.esm-0e655d3f.js";import{a as s,r as i,t as m}from"./helpers-cf980081.js";import"./_commonjsHelpers-de833af9.js";import"./axios-4a70c6fc.js";window.Alpine=l;window.Toastify=w;l.plugin(g);l.start();const f=q("#app",{target:"[data-tippy-content]",arrow:!1});h();window.addEventListener("resize",function(){h()});function h(){window.innerWidth<=1024?f[0].disable():f[0].enable()}const _=window.location.origin,a=document.querySelector("form.buy-chapter-form");document.addEventListener("DOMContentLoaded",()=>{a==null||a.addEventListener("submit",async function(n){n.preventDefault();const d=a==null?void 0:a.elements.chapter_id.value;await axios.post(_+"/users/buy-chapter",{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},params:{chapter_id:d}}).then(function(o){console.log(o),o.data.status=="success"&&(Toastify({text:o.data.message,className:"success",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast(),setTimeout(()=>{o.data.url&&o.data.url!=""?window.location.href=o.data.url:location.reload()},1e3)),o.data.status=="error"&&Toastify({text:o.data.message,className:"error",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast()}).catch(function(o){console.log("error: ",o)})});const e=document.querySelectorAll(".chapter__premium.buy");e==null||e.forEach(n=>{n.addEventListener("click",function(d){const o=n.getAttribute("data-id"),u=n.getAttribute("data-price"),v=document.querySelector(".chapter__buy h4");if(o=="")return Toastify({text:"ID requerido",className:"error",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast(),!0;if(u=="")return Toastify({text:"Precio requerido",className:"error",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast(),!0;a==null||a.elements.chapter_id.setAttribute("value",o);let y=d.target.parentElement.parentElement.children[0].children[1].textContent;v.textContent=`${y} x ${u} Monedas`,S()})});const t=document.querySelector(".overlay");t==null||t.addEventListener("click",function(){p()});const c=document.querySelector(".modal .modal__head button");c==null||c.addEventListener("click",function(){p()})});function S(){const e=document.querySelector(".modal"),t=document.querySelector(".overlay");e&&(t&&s(t,"show"),s(e,"show"))}function p(){const e=document.querySelector(".modal"),t=document.querySelector(".overlay");e&&(t&&i(t,"show"),i(e,"show"),a==null||a.elements.chapter_id.setAttribute("value",""))}const r=document.querySelector("header.header nav.navbar .burger");if(r){const e=document.querySelector("header.header nav.navbar .menu");window.addEventListener("click",function(){i(r,"active"),i(e,"open"),E()}),r.addEventListener("click",function(t){t.stopPropagation(),m(r,"active"),m(e,"open"),T()})}function T(){const e=document.querySelector("body"),t=document.createElement("div");s(t,"mnu__overlay"),e.append(t)}function E(){const e=document.querySelector(".mnu__overlay");e&&e.remove()}
