import{a as u,r as d}from"./helpers-cf980081.js";const n=document.querySelector("#viewer .view__reader .view__content"),a={maxOptions:null,render:{option:function(e,t){return`<div data-url="${e.url}">${e.text}</div>`},item:function(e,t){return`<div data-url="${e.url}">${e.text}</div>`}}},_=[document.querySelector("#slct_chapter_list"),document.querySelector("#slct_chapter_list_bottom")];_.forEach(e=>{if(e){const t=new TomSelect(e,a);t.on("change",function(o){if(o=="")return!0;const r=t.getOption(o).getAttribute("data-url");window.location.href=r})}});const f=[document.querySelector("#slct_reader_type"),document.querySelector("#slct_reader_type_bottom")];f.forEach(e=>{if(e){const t=new TomSelect(e,a);t.on("change",function(o){if(o=="")return!0;const r=t.getOption(o).getAttribute("data-url");window.location.href=r})}});const m=[document.querySelector("#slct_reader_size"),document.querySelector("#slct_reader_size_bottom")];let s=[];m.forEach(e=>{if(e){const t=new TomSelect(e),o=sessionStorage.getItem("reader_size");s.push(t),t&&o=="full"?(t.setValue(1),u(n,"view__full")):(t.setValue(2),d(n,"view__full")),t.on("change",function(c){switch(s.length>0&&s.forEach(r=>{r.input.value=c,r.sync()}),c){case"1":sessionStorage.setItem("reader_size","full"),u(n,"view__full");break;case"2":sessionStorage.setItem("reader_size","deafult"),d(n,"view__full");break}}),t.clearCache()}});const S=[document.querySelector("#slct_font_size"),document.querySelector("#slct_font_size_bottom")];let l=[];S.forEach(e=>{if(e){const t=new TomSelect(e);l.push(t);const o=sessionStorage.getItem("reader_font_size");o&&(t.setValue(o),n.style.fontSize=o+"px"),t.on("change",function(c){l.length>0&&l.forEach(r=>{r.input.value=c,r.sync()}),sessionStorage.setItem("reader_font_size",c),n.style.fontSize=c+"px"})}});const g=document.querySelector(".view__colors");if(g){const e=localStorage.getItem("content_font_color");e&&[document.querySelector("#choose_color"),document.querySelector("#choose_color_bottom")].forEach(c=>{c&&(c.value=e),n.style.color=e});const t=localStorage.getItem("content_body_color");t&&[document.querySelector("#choose_background"),document.querySelector("#choose_background_bottom")].forEach(c=>{c&&(c.value=t),n.style.backgroundColor=t})}const h=[document.querySelector("#slct_paged_list"),document.querySelector("#slct_paged_list_bottom")];h.forEach(e=>{if(e){const t=new TomSelect(e,a);t.on("change",function(o){if(o=="")return!0;const r=t.getOption(o).getAttribute("data-url");window.location.href=r})}});const i=document.querySelector(".view__paged");if(i){const e=document.querySelector(".reader__item");e&&e.addEventListener("click",function(){i.children[2].classList.contains("paged__next")&&i.children[2].click()})}
