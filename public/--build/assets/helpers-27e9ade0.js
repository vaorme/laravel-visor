import{h as v,r as u,a as i}from"./helpers-cf980081.js";function h(n,e){const r=document.querySelector(n);let o,l;r&&(o=r.nextElementSibling,Object.values(r.children).forEach(t=>{v(t,"preview")&&(l=t.children[0])}),o.addEventListener("change",function(t){const c=this.files[0];d(c,l,e)}),r.addEventListener("click",()=>o.click()),r.addEventListener("dragover",t=>{t.preventDefault()}),r.addEventListener("drop",t=>{t.preventDefault();const c=t.dataTransfer.files[0];o.files=t.dataTransfer.files,d(c,l,e)}))}function d(n,e,r){if(!n)return console.log("error, no hay archivo"),"error";let o=n.name.split(".").pop().toLowerCase();if(!r.includes(o))return alert("Tipo de archivo no permitido"),"no allowed";u(e,"added"),setTimeout(()=>{i(e,"added");const l=new FileReader;l.readAsDataURL(n),l.onloadend=function(){l.result;let t=this.result;e.src=t,e.alt=n.name}},200)}function x(){let n=document.querySelector("body");i(n,"noscroll")}function b(){let n=document.querySelector("body");u(n,"noscroll")}function g(n){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}const E=n=>{const e=/(http(s)?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi,r=new RegExp(e);return n.match(r)};class T{fire(e){let r="",o,l=document.querySelector("#app"),t=document.createElement("div"),c=document.createElement("div");i(c,"al-overlay"),i(t,"alertify"),e.type=="error"&&(i(t,e.type),o="sin icono error"),e.type=="warning"&&(i(t,e.type),o=`
                <svg aria-labelledby="errorIconTitle" color="#d62323" fill="none" height="48px" role="img" stroke="#d62323" stroke-linecap="square" stroke-linejoin="miter" stroke-width="1" viewBox="0 0 24 24" width="48px" xmlns="http://www.w3.org/2000/svg"><title id="errorIconTitle"/><path d="M12 8L12 13"/><line x1="12" x2="12" y1="16" y2="16"/><circle cx="12" cy="12" r="10"/></svg>
            `),e.type=="success"&&(i(t,e.type),o="sin icono success"),t.innerHTML=`
            <div class="md-icon">
                ${o}
            </div>
            <div class="md-content">
                <h2>${e.title}</h2>
                <p>${e.text}</p>
            </div>
            <div class="md-buttons">
                ${e.confirmButtonText?'<button class="botn confirm">'+e.confirmButtonText+"</button>":""}
                <button class="botn cancel">${e.cancelButtonText?e.cancelButtonText:"Close"}</button>
            </div>
        `,l.append(c),l.append(t);let f=document.querySelector(".alertify"),m=document.querySelector(".al-overlay"),s=document.querySelector(".alertify button.confirm"),a=document.querySelector(".alertify button.cancel");return r=this,new Promise((y,w)=>{s&&s.addEventListener("click",function(){y({confirmed:!0})}),a&&a.addEventListener("click",function(){r.close(f,m)})})}close(e,r){let o=e,l=r;i(o,"closing"),i(l,"closing"),setTimeout(function(){o.remove(),l.remove()},300),clearTimeout()}}export{T as M,b as c,h as d,E as i,x as r,g as v};
