import{m as je,T as Ke}from"./toastify-f9ee0e47.js";import{C as et,A as tt,d as st,a as Je,f as nt,h as at,e as it,l as ot,p as rt,t as lt,u as dt,c as ct,b as ut,i as ht,g as ft,m as pt,j as mt,q as gt,r as vt,s as bt,w as _t,k as wt}from"./bundle-f83c28e3.js";import"./index-a8aa5ca2.js";import{a as Ve}from"./axios-4a70c6fc.js";import{i as Qe,v as ze,M as Me}from"./helpers-c1bfa4e6.js";import"./_commonjsHelpers-725317a4.js";import"./helpers-557a48c5.js";window.Alpine=je;window.Choices=et;window.AirDatepicker=tt;window.localeEs=st;window.Toastify=Ke;window.Draggable=Je.Draggable;window.DgSortable=Je.Sortable;window.EditorJS=nt;window.EditorJsHeader=at;window.EditorJsEmbed=it;window.EditorJsList=ot;window.EditorJsParagraph=rt;window.EditorJsTable=lt;window.EditorJsUnderline=dt;window.EditorJsChecklist=ct;window.EditorJsCode=ut;window.EditorJsInlineCode=ht;window.EditorJsLink=ft;window.EditorJsMarker=pt;window.EditorJsPersonality=mt;window.EditorJsQuote=gt;window.EditorJsRaw=vt;window.EditorJsSimpleImage=bt;window.EditorJsWarning=_t;window.EditorJsColor=wt;je.start();const yt=n=>Object.prototype.toString.call(n)==="[object Object]",Te=(n,e)=>{const t=document.createElement(n);if(e&&typeof e=="object")for(const s in e)s==="html"?t.innerHTML=e[s]:t.setAttribute(s,e[s]);return t},ue=n=>["#text","#comment"].includes(n.nodeName)?n.data:n.childNodes?n.childNodes.map(e=>ue(e)).join(""):"",Oe=function(n,e){let t=0,s=0;for(;t<n+1;)e[s].hidden||(t+=1),s+=1;return s-1};function we(n,e,t){var s;return n.nodeName==="#text"?s=t.document.createTextNode(n.data):n.nodeName==="#comment"?s=t.document.createComment(n.data):(e?s=t.document.createElementNS("http://www.w3.org/2000/svg",n.nodeName):n.nodeName.toLowerCase()==="svg"?(s=t.document.createElementNS("http://www.w3.org/2000/svg","svg"),e=!0):s=t.document.createElement(n.nodeName),n.attributes&&Object.entries(n.attributes).forEach(function(a){var o=a[0],i=a[1];return s.setAttribute(o,i)}),n.childNodes&&n.childNodes.forEach(function(a){return s.appendChild(we(a,e,t))}),t.valueDiffing&&(n.value&&(s instanceof HTMLButtonElement||s instanceof HTMLDataElement||s instanceof HTMLInputElement||s instanceof HTMLLIElement||s instanceof HTMLMeterElement||s instanceof HTMLOptionElement||s instanceof HTMLProgressElement||s instanceof HTMLParamElement)&&(s.value=n.value),n.checked&&s instanceof HTMLInputElement&&(s.checked=n.checked),n.selected&&s instanceof HTMLOptionElement&&(s.selected=n.selected))),s}var me=function(n,e){for(e=e.slice();e.length>0;){var t=e.splice(0,1)[0];n=n.childNodes[t]}return n};function Q(n,e,t){var s,a,o,i=e[t._const.action],l=e[t._const.route];[t._const.addElement,t._const.addTextElement].includes(i)||(s=me(n,l));var r={diff:e,node:s};if(t.preDiffApply(r))return!0;switch(i){case t._const.addAttribute:if(!(s&&s instanceof Element))return!1;s.setAttribute(e[t._const.name],e[t._const.value]);break;case t._const.modifyAttribute:if(!(s&&s instanceof Element))return!1;s.setAttribute(e[t._const.name],e[t._const.newValue]),s instanceof HTMLInputElement&&e[t._const.name]==="value"&&(s.value=e[t._const.newValue]);break;case t._const.removeAttribute:if(!(s&&s instanceof Element))return!1;s.removeAttribute(e[t._const.name]);break;case t._const.modifyTextElement:if(!(s&&s instanceof Text))return!1;t.textDiff(s,s.data,e[t._const.oldValue],e[t._const.newValue]),s.parentNode instanceof HTMLTextAreaElement&&(s.parentNode.value=e[t._const.newValue]);break;case t._const.modifyValue:if(!s||s.value===void 0)return!1;s.value=e[t._const.newValue];break;case t._const.modifyComment:if(!(s&&s instanceof Comment))return!1;t.textDiff(s,s.data,e[t._const.oldValue],e[t._const.newValue]);break;case t._const.modifyChecked:if(!s||s.checked===void 0)return!1;s.checked=e[t._const.newValue];break;case t._const.modifySelected:if(!s||s.selected===void 0)return!1;s.selected=e[t._const.newValue];break;case t._const.replaceElement:var d=e[t._const.newValue].nodeName.toLowerCase()==="svg"||s.parentNode.namespaceURI==="http://www.w3.org/2000/svg";s.parentNode.replaceChild(we(e[t._const.newValue],d,t),s);break;case t._const.relocateGroup:Array.apply(void 0,new Array(e[t._const.groupLength])).map(function(){return s.removeChild(s.childNodes[e[t._const.from]])}).forEach(function(h,u){u===0&&(o=s.childNodes[e[t._const.to]]),s.insertBefore(h,o||null)});break;case t._const.removeElement:s.parentNode.removeChild(s);break;case t._const.addElement:var g=(p=l.slice()).splice(p.length-1,1)[0];if(!((s=me(n,p))instanceof Element))return!1;s.insertBefore(we(e[t._const.element],s.namespaceURI==="http://www.w3.org/2000/svg",t),s.childNodes[g]||null);break;case t._const.removeTextElement:if(!s||s.nodeType!==3)return!1;var v=s.parentNode;v.removeChild(s),v instanceof HTMLTextAreaElement&&(v.value="");break;case t._const.addTextElement:var p;if(g=(p=l.slice()).splice(p.length-1,1)[0],a=t.document.createTextNode(e[t._const.value]),!(s=me(n,p)).childNodes)return!1;s.insertBefore(a,s.childNodes[g]||null),s.parentNode instanceof HTMLTextAreaElement&&(s.parentNode.value=e[t._const.value]);break;default:console.log("unknown action")}return t.postDiffApply({diff:r.diff,node:r.node,newNode:a}),!0}function ge(n,e,t){var s=n[e];n[e]=n[t],n[t]=s}function Nt(n,e,t){(e=e.slice()).reverse(),e.forEach(function(s){(function(a,o,i){switch(o[i._const.action]){case i._const.addAttribute:o[i._const.action]=i._const.removeAttribute,Q(a,o,i);break;case i._const.modifyAttribute:ge(o,i._const.oldValue,i._const.newValue),Q(a,o,i);break;case i._const.removeAttribute:o[i._const.action]=i._const.addAttribute,Q(a,o,i);break;case i._const.modifyTextElement:case i._const.modifyValue:case i._const.modifyComment:case i._const.modifyChecked:case i._const.modifySelected:case i._const.replaceElement:ge(o,i._const.oldValue,i._const.newValue),Q(a,o,i);break;case i._const.relocateGroup:ge(o,i._const.from,i._const.to),Q(a,o,i);break;case i._const.removeElement:o[i._const.action]=i._const.addElement,Q(a,o,i);break;case i._const.addElement:o[i._const.action]=i._const.removeElement,Q(a,o,i);break;case i._const.removeTextElement:o[i._const.action]=i._const.addTextElement,Q(a,o,i);break;case i._const.addTextElement:o[i._const.action]=i._const.removeTextElement,Q(a,o,i);break;default:console.log("unknown action")}})(n,s,t)})}var ye=function(n){var e=[];return e.push(n.nodeName),n.nodeName!=="#text"&&n.nodeName!=="#comment"&&n.attributes&&(n.attributes.class&&e.push("".concat(n.nodeName,".").concat(n.attributes.class.replace(/ /g,"."))),n.attributes.id&&e.push("".concat(n.nodeName,"#").concat(n.attributes.id))),e},Ce=function(n){var e={},t={};return n.forEach(function(s){ye(s).forEach(function(a){var o=a in e;o||a in t?o&&(delete e[a],t[a]=!0):e[a]=!0})}),e},Ze=function(n,e){var t=Ce(n),s=Ce(e),a={};return Object.keys(t).forEach(function(o){s[o]&&(a[o]=!0)}),a},Xe=function(n){return delete n.outerDone,delete n.innerDone,delete n.valueDone,!n.childNodes||n.childNodes.every(Xe)},U=function(n){if(Object.prototype.hasOwnProperty.call(n,"data"))return{nodeName:n.nodeName==="#text"?"#text":"#comment",data:n.data};var e={nodeName:n.nodeName};return Object.prototype.hasOwnProperty.call(n,"attributes")&&(e.attributes=n.attributes),Object.prototype.hasOwnProperty.call(n,"checked")&&(e.checked=n.checked),Object.prototype.hasOwnProperty.call(n,"value")&&(e.value=n.value),Object.prototype.hasOwnProperty.call(n,"selected")&&(e.selected=n.selected),Object.prototype.hasOwnProperty.call(n,"childNodes")&&(e.childNodes=n.childNodes.map(function(t){return U(t)})),e},Ne=function(n,e){if(!["nodeName","value","checked","selected","data"].every(function(a){return n[a]===e[a]}))return!1;if(Object.prototype.hasOwnProperty.call(n,"data"))return!0;if(!!n.attributes!=!!e.attributes||!!n.childNodes!=!!e.childNodes)return!1;if(n.attributes){var t=Object.keys(n.attributes),s=Object.keys(e.attributes);if(t.length!==s.length||!t.every(function(a){return n.attributes[a]===e.attributes[a]}))return!1}return!(n.childNodes&&(n.childNodes.length!==e.childNodes.length||!n.childNodes.every(function(a,o){return Ne(a,e.childNodes[o])})))},Se=function(n,e,t,s,a){if(a===void 0&&(a=!1),!n||!e||n.nodeName!==e.nodeName)return!1;if(["#text","#comment"].includes(n.nodeName))return!!a||n.data===e.data;if(n.nodeName in t)return!0;if(n.attributes&&e.attributes){if(n.attributes.id){if(n.attributes.id!==e.attributes.id)return!1;if("".concat(n.nodeName,"#").concat(n.attributes.id)in t)return!0}if(n.attributes.class&&n.attributes.class===e.attributes.class&&"".concat(n.nodeName,".").concat(n.attributes.class.replace(/ /g,"."))in t)return!0}if(s)return!0;var o=n.childNodes?n.childNodes.slice().reverse():[],i=e.childNodes?e.childNodes.slice().reverse():[];if(o.length!==i.length)return!1;if(a)return o.every(function(r,d){return r.nodeName===i[d].nodeName});var l=Ze(o,i);return o.every(function(r,d){return Se(r,i[d],l,!0,!0)})},de=function(n,e){return Array.apply(void 0,new Array(n)).map(function(){return e})},xt=function(n,e){for(var t=n.childNodes?n.childNodes:[],s=e.childNodes?e.childNodes:[],a=de(t.length,!1),o=de(s.length,!1),i=[],l=function(){return arguments[1]},r=!1,d=function(){var g=function(v,p,h,u){var _=0,y=[],w=v.length,c=p.length,D=Array.apply(void 0,new Array(w+1)).map(function(){return[]}),T=Ze(v,p),O=w===c;O&&v.some(function(A,x){var m=ye(A),f=ye(p[x]);return m.length!==f.length?(O=!1,!0):(m.some(function(V,b){if(V!==f[b])return O=!1,!0}),!O||void 0)});for(var C=0;C<w;C++)for(var S=v[C],N=0;N<c;N++){var $=p[N];h[C]||u[N]||!Se(S,$,T,O)?D[C+1][N+1]=0:(D[C+1][N+1]=D[C][N]?D[C][N]+1:1,D[C+1][N+1]>=_&&(_=D[C+1][N+1],y=[C+1,N+1]))}return _!==0&&{oldValue:y[0]-_,newValue:y[1]-_,length:_}}(t,s,a,o);g?(i.push(g),Array.apply(void 0,new Array(g.length)).map(l).forEach(function(v){return function(p,h,u,_){p[u.oldValue+_]=!0,h[u.newValue+_]=!0}(a,o,g,v)})):r=!0};!r;)d();return n.subsets=i,n.subsetsAge=100,i},Dt=function(){function n(){this.list=[]}return n.prototype.add=function(e){var t;(t=this.list).push.apply(t,e)},n.prototype.forEach=function(e){this.list.forEach(function(t){return e(t)})},n}(),H=function(){function n(e){e===void 0&&(e={});var t=this;Object.entries(e).forEach(function(s){var a=s[0],o=s[1];return t[a]=o})}return n.prototype.toString=function(){return JSON.stringify(this)},n.prototype.setValue=function(e,t){return this[e]=t,this},n}();function ve(n,e){var t,s,a=n;for(e=e.slice();e.length>0;)s=e.splice(0,1)[0],t=a,a=a.childNodes?a.childNodes[s]:void 0;return{node:a,parentNode:t,nodeIndex:s}}function Et(n,e,t){return e.forEach(function(s){(function(a,o,i){var l,r,d,g;if(![i._const.addElement,i._const.addTextElement].includes(o[i._const.action])){var v=ve(a,o[i._const.route]);r=v.node,d=v.parentNode,g=v.nodeIndex}var p,h,u=[],_={diff:o,node:r};if(i.preVirtualDiffApply(_))return!0;switch(o[i._const.action]){case i._const.addAttribute:r.attributes||(r.attributes={}),r.attributes[o[i._const.name]]=o[i._const.value],o[i._const.name]==="checked"?r.checked=!0:o[i._const.name]==="selected"?r.selected=!0:r.nodeName==="INPUT"&&o[i._const.name]==="value"&&(r.value=o[i._const.value]);break;case i._const.modifyAttribute:r.attributes[o[i._const.name]]=o[i._const.newValue];break;case i._const.removeAttribute:delete r.attributes[o[i._const.name]],Object.keys(r.attributes).length===0&&delete r.attributes,o[i._const.name]==="checked"?r.checked=!1:o[i._const.name]==="selected"?delete r.selected:r.nodeName==="INPUT"&&o[i._const.name]==="value"&&delete r.value;break;case i._const.modifyTextElement:r.data=o[i._const.newValue],d.nodeName==="TEXTAREA"&&(d.value=o[i._const.newValue]);break;case i._const.modifyValue:r.value=o[i._const.newValue];break;case i._const.modifyComment:r.data=o[i._const.newValue];break;case i._const.modifyChecked:r.checked=o[i._const.newValue];break;case i._const.modifySelected:r.selected=o[i._const.newValue];break;case i._const.replaceElement:p=o[i._const.newValue],d.childNodes[g]=p;break;case i._const.relocateGroup:r.childNodes.splice(o[i._const.from],o[i._const.groupLength]).reverse().forEach(function(c){return r.childNodes.splice(o[i._const.to],0,c)}),r.subsets&&r.subsets.forEach(function(c){if(o[i._const.from]<o[i._const.to]&&c.oldValue<=o[i._const.to]&&c.oldValue>o[i._const.from])c.oldValue-=o[i._const.groupLength],(D=c.oldValue+c.length-o[i._const.to])>0&&(u.push({oldValue:o[i._const.to]+o[i._const.groupLength],newValue:c.newValue+c.length-D,length:D}),c.length-=D);else if(o[i._const.from]>o[i._const.to]&&c.oldValue>o[i._const.to]&&c.oldValue<o[i._const.from]){var D;c.oldValue+=o[i._const.groupLength],(D=c.oldValue+c.length-o[i._const.to])>0&&(u.push({oldValue:o[i._const.to]+o[i._const.groupLength],newValue:c.newValue+c.length-D,length:D}),c.length-=D)}else c.oldValue===o[i._const.from]&&(c.oldValue=o[i._const.to])});break;case i._const.removeElement:d.childNodes.splice(g,1),d.subsets&&d.subsets.forEach(function(c){c.oldValue>g?c.oldValue-=1:c.oldValue===g?c.delete=!0:c.oldValue<g&&c.oldValue+c.length>g&&(c.oldValue+c.length-1===g?c.length--:(u.push({newValue:c.newValue+g-c.oldValue,oldValue:g,length:c.length-g+c.oldValue-1}),c.length=g-c.oldValue))}),r=d;break;case i._const.addElement:var y=(h=o[i._const.route].slice()).splice(h.length-1,1)[0];r=(l=ve(a,h))===null||l===void 0?void 0:l.node,p=o[i._const.element],r.childNodes||(r.childNodes=[]),y>=r.childNodes.length?r.childNodes.push(p):r.childNodes.splice(y,0,p),r.subsets&&r.subsets.forEach(function(c){if(c.oldValue>=y)c.oldValue+=1;else if(c.oldValue<y&&c.oldValue+c.length>y){var D=c.oldValue+c.length-y;u.push({newValue:c.newValue+c.length-D,oldValue:y+1,length:D}),c.length-=D}});break;case i._const.removeTextElement:d.childNodes.splice(g,1),d.nodeName==="TEXTAREA"&&delete d.value,d.subsets&&d.subsets.forEach(function(c){c.oldValue>g?c.oldValue-=1:c.oldValue===g?c.delete=!0:c.oldValue<g&&c.oldValue+c.length>g&&(c.oldValue+c.length-1===g?c.length--:(u.push({newValue:c.newValue+g-c.oldValue,oldValue:g,length:c.length-g+c.oldValue-1}),c.length=g-c.oldValue))}),r=d;break;case i._const.addTextElement:var w=(h=o[i._const.route].slice()).splice(h.length-1,1)[0];(p={}).nodeName="#text",p.data=o[i._const.value],(r=ve(a,h).node).childNodes||(r.childNodes=[]),w>=r.childNodes.length?r.childNodes.push(p):r.childNodes.splice(w,0,p),r.nodeName==="TEXTAREA"&&(r.value=o[i._const.newValue]),r.subsets&&r.subsets.forEach(function(c){if(c.oldValue>=w&&(c.oldValue+=1),c.oldValue<w&&c.oldValue+c.length>w){var D=c.oldValue+c.length-w;u.push({newValue:c.newValue+c.length-D,oldValue:w+1,length:D}),c.length-=D}});break;default:console.log("unknown action")}r.subsets&&(r.subsets=r.subsets.filter(function(c){return!c.delete&&c.oldValue!==c.newValue}),u.length&&(r.subsets=r.subsets.concat(u))),i.postVirtualDiffApply({node:_.node,diff:_.diff,newNode:p})})(n,s,t)}),!0}function K(n,e){e===void 0&&(e={valueDiffing:!0});var t={nodeName:n.nodeName};return n instanceof Text||n instanceof Comment?t.data=n.data:(n.attributes&&n.attributes.length>0&&(t.attributes={},Array.prototype.slice.call(n.attributes).forEach(function(s){return t.attributes[s.name]=s.value})),n.childNodes&&n.childNodes.length>0&&(t.childNodes=[],Array.prototype.slice.call(n.childNodes).forEach(function(s){return t.childNodes.push(K(s,e))})),e.valueDiffing&&(n instanceof HTMLTextAreaElement&&(t.value=n.value),n instanceof HTMLInputElement&&["radio","checkbox"].includes(n.type.toLowerCase())&&n.checked!==void 0?t.checked=n.checked:(n instanceof HTMLButtonElement||n instanceof HTMLDataElement||n instanceof HTMLInputElement||n instanceof HTMLLIElement||n instanceof HTMLMeterElement||n instanceof HTMLOptionElement||n instanceof HTMLProgressElement||n instanceof HTMLParamElement)&&(t.value=n.value),n instanceof HTMLOptionElement&&(t.selected=n.selected))),t}var Vt=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,Mt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Le(n){return n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var St={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Ae=function(n){var e={nodeName:"",attributes:{}},t=!1,s=n.match(/<\/?([^\s]+?)[/\s>]/);if(s&&(e.nodeName=s[1],(St[s[1]]||n.charAt(n.length-2)==="/")&&(t=!0),e.nodeName.startsWith("!--"))){var a=n.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:a!==-1?n.slice(4,a):""},voidElement:t}}for(var o=new RegExp(Mt),i=null,l=!1;!l;)if((i=o.exec(n))===null)l=!0;else if(i[0].trim())if(i[1]){var r=i[1].trim(),d=[r,""];r.indexOf("=")>-1&&(d=r.split("=")),e.attributes[d[0]]=d[1],o.lastIndex--}else i[2]&&(e.attributes[i[2]]=i[3].trim().substring(1,i[3].length-1));return{type:"tag",node:e,voidElement:t}},ee=function(n,e){e===void 0&&(e={valueDiffing:!0});var t,s=[],a=-1,o=[];if(n.indexOf("<")!==0){var i=n.indexOf("<");s.push({nodeName:"#text",data:i===-1?n:n.substring(0,i)})}return n.replace(Vt,function(l,r){var d=l.charAt(1)!=="/",g=l.startsWith("<!--"),v=r+l.length,p=n.charAt(v);if(g){var h=Ae(l).node;if(a<0)return s.push(h),"";var u=o[a];return u&&h.nodeName&&(u.node.childNodes||(u.node.childNodes=[]),u.node.childNodes.push(h)),""}if(d){if(t=Ae(l),a++,!t.voidElement&&p&&p!=="<"){t.node.childNodes||(t.node.childNodes=[]);var _=Le(n.slice(v,n.indexOf("<",v)));t.node.childNodes.push({nodeName:"#text",data:_}),e.valueDiffing&&t.node.nodeName==="TEXTAREA"&&(t.node.value=_)}a===0&&t.node.nodeName&&s.push(t.node);var y=o[a-1];y&&t.node.nodeName&&(y.node.childNodes||(y.node.childNodes=[]),y.node.childNodes.push(t.node)),o[a]=t}if((!d||t.voidElement)&&(a>-1&&(t.voidElement||t.node.nodeName.toUpperCase()===l.slice(2,-1).toUpperCase())&&--a>-1&&(t=o[a]),p!=="<"&&p)){var w=a===-1?s:o[a].node.childNodes||[],c=n.indexOf("<",v);_=Le(n.slice(v,c===-1?void 0:c)),w.push({nodeName:"#text",data:_})}return""}),s[0]},Tt=function(){function n(e,t,s){this.options=s,this.t1=typeof Element<"u"&&e instanceof Element?K(e,this.options):typeof e=="string"?ee(e,this.options):JSON.parse(JSON.stringify(e)),this.t2=typeof Element<"u"&&t instanceof Element?K(t,this.options):typeof t=="string"?ee(t,this.options):JSON.parse(JSON.stringify(t)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&e instanceof Element?K(e,this.options):typeof e=="string"?ee(e,this.options):JSON.parse(JSON.stringify(e)),this.t2Orig=typeof Element<"u"&&t instanceof Element?K(t,this.options):typeof t=="string"?ee(t,this.options):JSON.parse(JSON.stringify(t))),this.tracker=new Dt}return n.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},n.prototype.findDiffs=function(e,t){var s;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(s=this.findNextDiff(e,t,[])).length===0&&(Ne(e,t)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,Xe(e),s=this.findNextDiff(e,t,[])))),s.length>0&&(this.foundAll=!1,this.tracker.add(s),Et(e,s,this.options))}while(s.length>0);return this.tracker.list},n.prototype.findNextDiff=function(e,t,s){var a,o;if(this.options.maxDepth&&s.length>this.options.maxDepth)return[];if(!e.outerDone){if(a=this.findOuterDiff(e,t,s),this.options.filterOuterDiff&&(o=this.options.filterOuterDiff(e,t,a))&&(a=o),a.length>0)return e.outerDone=!0,a;e.outerDone=!0}if(Object.prototype.hasOwnProperty.call(e,"data"))return[];if(!e.innerDone){if((a=this.findInnerDiff(e,t,s)).length>0)return a;e.innerDone=!0}if(this.options.valueDiffing&&!e.valueDone){if((a=this.findValueDiff(e,t,s)).length>0)return e.valueDone=!0,a;e.valueDone=!0}return[]},n.prototype.findOuterDiff=function(e,t,s){var a,o,i,l,r,d,g=[];if(e.nodeName!==t.nodeName){if(!s.length)throw new Error("Top level nodes have to be of the same kind.");return[new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,U(e)).setValue(this.options._const.newValue,U(t)).setValue(this.options._const.route,s)]}if(s.length&&this.options.diffcap<Math.abs((e.childNodes||[]).length-(t.childNodes||[]).length))return[new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,U(e)).setValue(this.options._const.newValue,U(t)).setValue(this.options._const.route,s)];if(Object.prototype.hasOwnProperty.call(e,"data")&&e.data!==t.data)return e.nodeName==="#text"?[new H().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,t.data)]:[new H().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,t.data)];for(o=e.attributes?Object.keys(e.attributes).sort():[],i=t.attributes?Object.keys(t.attributes).sort():[],l=o.length,d=0;d<l;d++)a=o[d],(r=i.indexOf(a))===-1?g.push(new H().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,a).setValue(this.options._const.value,e.attributes[a])):(i.splice(r,1),e.attributes[a]!==t.attributes[a]&&g.push(new H().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,a).setValue(this.options._const.oldValue,e.attributes[a]).setValue(this.options._const.newValue,t.attributes[a])));for(l=i.length,d=0;d<l;d++)a=i[d],g.push(new H().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,a).setValue(this.options._const.value,t.attributes[a]));return g},n.prototype.findInnerDiff=function(e,t,s){var a=e.childNodes?e.childNodes.slice():[],o=t.childNodes?t.childNodes.slice():[],i=Math.max(a.length,o.length),l=Math.abs(a.length-o.length),r=[],d=0;if(!this.options.maxChildCount||i<this.options.maxChildCount){var g=!!(e.subsets&&e.subsetsAge--),v=g?e.subsets:e.childNodes&&t.childNodes?xt(e,t):[];if(v.length>0&&(r=this.attemptGroupRelocation(e,t,v,s,g)).length>0)return r}for(var p=0;p<i;p+=1){var h=a[p],u=o[p];if(l&&(h&&!u?h.nodeName==="#text"?(r.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,h.data)),d-=1):(r.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.element,U(h))),d-=1):u&&!h&&(u.nodeName==="#text"?r.push(new H().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,u.data)):r.push(new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.element,U(u))))),h&&u){if(!this.options.maxChildCount||i<this.options.maxChildCount)r=r.concat(this.findNextDiff(h,u,s.concat(d)));else if(!Ne(h,u))if(a.length>o.length)h.nodeName==="#text"?r.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,h.data)):r.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,U(h)).setValue(this.options._const.route,s.concat(d))),a.splice(p,1),p-=1,d-=1,l-=1;else if(a.length<o.length){var _=U(u);r=r.concat([new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,_).setValue(this.options._const.route,s.concat(d))]),a.splice(p,0,_),l-=1}else r=r.concat([new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,U(h)).setValue(this.options._const.newValue,U(u)).setValue(this.options._const.route,s.concat(d))])}d+=1}return e.innerDone=!0,r},n.prototype.attemptGroupRelocation=function(e,t,s,a,o){for(var i,l,r,d,g,v,p=function(T,O,C){var S=T.childNodes?de(T.childNodes.length,!0):[],N=O.childNodes?de(O.childNodes.length,!0):[],$=0;return C.forEach(function(A){for(var x=A.oldValue+A.length,m=A.newValue+A.length,f=A.oldValue;f<x;f+=1)S[f]=$;for(f=A.newValue;f<m;f+=1)N[f]=$;$+=1}),{gaps1:S,gaps2:N}}(e,t,s),h=p.gaps1,u=p.gaps2,_=Math.min(h.length,u.length),y=[],w=0,c=0;w<_;c+=1,w+=1)if(!o||h[w]!==!0&&u[w]!==!0){if(h[w]===!0)if((d=e.childNodes[c]).nodeName==="#text")if(t.childNodes[w].nodeName==="#text"){if(d.data!==t.childNodes[w].data){for(v=c;e.childNodes.length>v+1&&e.childNodes[v+1].nodeName==="#text";)if(v+=1,t.childNodes[w].data===e.childNodes[v].data){g=!0;break}if(!g)return y.push(new H().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,a.concat(w)).setValue(this.options._const.oldValue,d.data).setValue(this.options._const.newValue,t.childNodes[w].data)),y}}else y.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,a.concat(w)).setValue(this.options._const.value,d.data)),h.splice(w,1),_=Math.min(h.length,u.length),w-=1;else y.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,a.concat(w)).setValue(this.options._const.element,U(d))),h.splice(w,1),_=Math.min(h.length,u.length),w-=1;else if(u[w]===!0)(d=t.childNodes[w]).nodeName==="#text"?(y.push(new H().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,a.concat(w)).setValue(this.options._const.value,d.data)),h.splice(w,0,!0),_=Math.min(h.length,u.length),c-=1):(y.push(new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,a.concat(w)).setValue(this.options._const.element,U(d))),h.splice(w,0,!0),_=Math.min(h.length,u.length),c-=1);else if(h[w]!==u[w]){if(y.length>0)return y;if(r=s[h[w]],(l=Math.min(r.newValue,e.childNodes.length-r.length))!==r.oldValue){i=!1;for(var D=0;D<r.length;D+=1)Se(e.childNodes[l+D],e.childNodes[r.oldValue+D],{},!1,!0)||(i=!0);if(i)return[new H().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,r.length).setValue(this.options._const.from,r.oldValue).setValue(this.options._const.to,l).setValue(this.options._const.route,a)]}}}return y},n.prototype.findValueDiff=function(e,t,s){var a=[];return e.selected!==t.selected&&a.push(new H().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,e.selected).setValue(this.options._const.newValue,t.selected).setValue(this.options._const.route,s)),(e.value||t.value)&&e.value!==t.value&&e.nodeName!=="OPTION"&&a.push(new H().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,e.value||"").setValue(this.options._const.newValue,t.value||"").setValue(this.options._const.route,s)),e.checked!==t.checked&&a.push(new H().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,e.checked).setValue(this.options._const.newValue,t.checked).setValue(this.options._const.route,s)),a},n}(),Ot={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(n,e,t,s){n.data=s},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},Ct=function(){function n(e){if(e===void 0&&(e={}),Object.entries(Ot).forEach(function(a){var o=a[0],i=a[1];Object.prototype.hasOwnProperty.call(e,o)||(e[o]=i)}),!e._const){var t=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],s={};e.compress?t.forEach(function(a,o){return s[a]=o}):t.forEach(function(a){return s[a]=a}),e._const=s}this.options=e}return n.prototype.apply=function(e,t){return function(s,a,o){return a.every(function(i){return Q(s,i,o)})}(e,t,this.options)},n.prototype.undo=function(e,t){return Nt(e,t,this.options)},n.prototype.diff=function(e,t){return new Tt(e,t,this.options).init()},n}();const xe=(n,e,t,{classes:s,format:a,hiddenHeader:o,sortable:i,scrollY:l,type:r},{noColumnWidths:d,unhideHeader:g})=>({nodeName:"TR",childNodes:n.map((v,p)=>{const h=e[p]||{type:r,format:a,sortable:!0,searchable:!0};if(h.hidden)return;const u={};if(h.sortable&&i&&(!l.length||g)&&(h.filter?u["data-filterable"]="true":u["data-sortable"]="true"),h.headerClass&&(u.class=h.headerClass),t.sort&&t.sort.column===p){const w=t.sort.dir==="asc"?s.ascending:s.descending;u.class=u.class?`${u.class} ${w}`:w,u["aria-sort"]=t.sort.dir==="asc"?"ascending":"descending"}else t.filters[p]&&(u.class=u.class?`${u.class} ${s.filterActive}`:s.filterActive);let _="";t.widths[p]&&!d&&(_+=`width: ${t.widths[p]}%;`),l.length&&!g&&(_+="padding-bottom: 0;padding-top: 0;border: 0;"),_.length&&(u.style=_);const y=v.type==="html"?v.data:[{nodeName:"#text",data:v.text??String(v.data)}];return{nodeName:"TH",attributes:u,childNodes:!o&&!l.length||g?h.sortable&&i?[{nodeName:"a",attributes:{href:"#",class:h.filter?s.filter:s.sorter},childNodes:y}]:y:[{nodeName:"#text",data:""}]}}).filter(v=>v)}),$e=(n,e,t,s,a,o,{classes:i,hiddenHeader:l,header:r,footer:d,format:g,sortable:v,scrollY:p,type:h,rowRender:u,tabIndex:_},{noColumnWidths:y,unhideHeader:w,renderHeader:c})=>{const D={nodeName:"TABLE",attributes:{...n},childNodes:[{nodeName:"TBODY",childNodes:t.map(({row:T,index:O})=>{const C={nodeName:"TR",attributes:{"data-index":String(O)},childNodes:T.map((S,N)=>{const $=s[N]||{type:h,format:g,sortable:!0,searchable:!0};if($.hidden)return;const A=$.type==="html"?{nodeName:"TD",childNodes:S.data}:{nodeName:"TD",childNodes:[{nodeName:"#text",data:S.text??String(S.data)}]};if(r||d||!a.widths[N]||y||(A.attributes={style:`width: ${a.widths[N]}%;`}),$.cellClass&&(A.attributes||(A.attributes={}),A.attributes.class=$.cellClass),$.render){const x=$.render(S.data,A,O,N);if(x){if(typeof x!="string")return x;{const m=ee(`<td>${x}</td>`);m.childNodes.length===1&&["#text","#comment"].includes(m.childNodes[0].nodeName)?A.childNodes[0].data=x:A.childNodes=m.childNodes}}}return A}).filter(S=>S)};if(O===o&&(C.attributes.class=i.cursor),u){const S=u(T,C,O);if(S){if(typeof S!="string")return S;{const N=ee(`<tr>${S}</tr>`);!N.childNodes||N.childNodes.length===1&&["#text","#comment"].includes(N.childNodes[0].nodeName)?C.childNodes[0].data=S:C.childNodes=N.childNodes}}}return C})}]};if(D.attributes.class=D.attributes.class?`${D.attributes.class} ${i.table}`:i.table,r||d||c){const T=xe(e,s,a,{classes:i,hiddenHeader:l,sortable:v,scrollY:p},{noColumnWidths:y,unhideHeader:w});if(r||c){const O={nodeName:"THEAD",childNodes:[T]};!p.length&&!l||w||(O.attributes={style:"height: 0px;"}),D.childNodes.unshift(O)}if(d){const O={nodeName:"TFOOT",childNodes:[r?structuredClone(T):T]};!p.length&&!l||w||(O.attributes={style:"height: 0px;"}),D.childNodes.push(O)}}return _!==!1&&(D.attributes.tabindex=String(_)),D};var De={};({get exports(){return De},set exports(n){De=n}}).exports=function(){var n=1e3,e=6e4,t=36e5,s="millisecond",a="second",o="minute",i="hour",l="day",r="week",d="month",g="quarter",v="year",p="date",h="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var m=["th","st","nd","rd"],f=x%100;return"["+x+(m[(f-20)%10]||m[f]||m[0])+"]"}},w=function(x,m,f){var V=String(x);return!V||V.length>=m?x:""+Array(m+1-V.length).join(f)+x},c={s:w,z:function(x){var m=-x.utcOffset(),f=Math.abs(m),V=Math.floor(f/60),b=f%60;return(m<=0?"+":"-")+w(V,2,"0")+":"+w(b,2,"0")},m:function x(m,f){if(m.date()<f.date())return-x(f,m);var V=12*(f.year()-m.year())+(f.month()-m.month()),b=m.clone().add(V,d),M=f-b<0,E=m.clone().add(V+(M?-1:1),d);return+(-(V+(f-b)/(M?b-E:E-b))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:d,y:v,w:r,d:l,D:p,h:i,m:o,s:a,ms:s,Q:g}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},D="en",T={};T[D]=y;var O=function(x){return x instanceof $},C=function x(m,f,V){var b;if(!m)return D;if(typeof m=="string"){var M=m.toLowerCase();T[M]&&(b=M),f&&(T[M]=f,b=M);var E=m.split("-");if(!b&&E.length>1)return x(E[0])}else{var L=m.name;T[L]=m,b=L}return!V&&b&&(D=b),b||!V&&D},S=function(x,m){if(O(x))return x.clone();var f=typeof m=="object"?m:{};return f.date=x,f.args=arguments,new $(f)},N=c;N.l=C,N.i=O,N.w=function(x,m){return S(x,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var $=function(){function x(f){this.$L=C(f.locale,null,!0),this.parse(f)}var m=x.prototype;return m.parse=function(f){this.$d=function(V){var b=V.date,M=V.utc;if(b===null)return new Date(NaN);if(N.u(b))return new Date;if(b instanceof Date)return new Date(b);if(typeof b=="string"&&!/Z$/i.test(b)){var E=b.match(u);if(E){var L=E[2]-1||0,k=(E[7]||"0").substring(0,3);return M?new Date(Date.UTC(E[1],L,E[3]||1,E[4]||0,E[5]||0,E[6]||0,k)):new Date(E[1],L,E[3]||1,E[4]||0,E[5]||0,E[6]||0,k)}}return new Date(b)}(f),this.$x=f.x||{},this.init()},m.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},m.$utils=function(){return N},m.isValid=function(){return this.$d.toString()!==h},m.isSame=function(f,V){var b=S(f);return this.startOf(V)<=b&&b<=this.endOf(V)},m.isAfter=function(f,V){return S(f)<this.startOf(V)},m.isBefore=function(f,V){return this.endOf(V)<S(f)},m.$g=function(f,V,b){return N.u(f)?this[V]:this.set(b,f)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(f,V){var b=this,M=!!N.u(V)||V,E=N.p(f),L=function(J,I){var F=N.w(b.$u?Date.UTC(b.$y,I,J):new Date(b.$y,I,J),b);return M?F:F.endOf(l)},k=function(J,I){return N.w(b.toDate()[J].apply(b.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(I)),b)},P=this.$W,q=this.$M,j=this.$D,B="set"+(this.$u?"UTC":"");switch(E){case v:return M?L(1,0):L(31,11);case d:return M?L(1,q):L(0,q+1);case r:var se=this.$locale().weekStart||0,Z=(P<se?P+7:P)-se;return L(M?j-Z:j+(6-Z),q);case l:case p:return k(B+"Hours",0);case i:return k(B+"Minutes",1);case o:return k(B+"Seconds",2);case a:return k(B+"Milliseconds",3);default:return this.clone()}},m.endOf=function(f){return this.startOf(f,!1)},m.$set=function(f,V){var b,M=N.p(f),E="set"+(this.$u?"UTC":""),L=(b={},b[l]=E+"Date",b[p]=E+"Date",b[d]=E+"Month",b[v]=E+"FullYear",b[i]=E+"Hours",b[o]=E+"Minutes",b[a]=E+"Seconds",b[s]=E+"Milliseconds",b)[M],k=M===l?this.$D+(V-this.$W):V;if(M===d||M===v){var P=this.clone().set(p,1);P.$d[L](k),P.init(),this.$d=P.set(p,Math.min(this.$D,P.daysInMonth())).$d}else L&&this.$d[L](k);return this.init(),this},m.set=function(f,V){return this.clone().$set(f,V)},m.get=function(f){return this[N.p(f)]()},m.add=function(f,V){var b,M=this;f=Number(f);var E=N.p(V),L=function(q){var j=S(M);return N.w(j.date(j.date()+Math.round(q*f)),M)};if(E===d)return this.set(d,this.$M+f);if(E===v)return this.set(v,this.$y+f);if(E===l)return L(1);if(E===r)return L(7);var k=(b={},b[o]=e,b[i]=t,b[a]=n,b)[E]||1,P=this.$d.getTime()+f*k;return N.w(P,this)},m.subtract=function(f,V){return this.add(-1*f,V)},m.format=function(f){var V=this,b=this.$locale();if(!this.isValid())return b.invalidDate||h;var M=f||"YYYY-MM-DDTHH:mm:ssZ",E=N.z(this),L=this.$H,k=this.$m,P=this.$M,q=b.weekdays,j=b.months,B=function(I,F,X,G){return I&&(I[F]||I(V,M))||X[F].slice(0,G)},se=function(I){return N.s(L%12||12,I,"0")},Z=b.meridiem||function(I,F,X){var G=I<12?"AM":"PM";return X?G.toLowerCase():G},J={YY:String(this.$y).slice(-2),YYYY:this.$y,M:P+1,MM:N.s(P+1,2,"0"),MMM:B(b.monthsShort,P,j,3),MMMM:B(j,P),D:this.$D,DD:N.s(this.$D,2,"0"),d:String(this.$W),dd:B(b.weekdaysMin,this.$W,q,2),ddd:B(b.weekdaysShort,this.$W,q,3),dddd:q[this.$W],H:String(L),HH:N.s(L,2,"0"),h:se(1),hh:se(2),a:Z(L,k,!0),A:Z(L,k,!1),m:String(k),mm:N.s(k,2,"0"),s:String(this.$s),ss:N.s(this.$s,2,"0"),SSS:N.s(this.$ms,3,"0"),Z:E};return M.replace(_,function(I,F){return F||J[I]||E.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(f,V,b){var M,E=N.p(V),L=S(f),k=(L.utcOffset()-this.utcOffset())*e,P=this-L,q=N.m(this,L);return q=(M={},M[v]=q/12,M[d]=q,M[g]=q/3,M[r]=(P-k)/6048e5,M[l]=(P-k)/864e5,M[i]=P/t,M[o]=P/e,M[a]=P/n,M)[E]||P,b?q:N.a(q)},m.daysInMonth=function(){return this.endOf(d).$D},m.$locale=function(){return T[this.$L]},m.locale=function(f,V){if(!f)return this.$L;var b=this.clone(),M=C(f,V,!0);return M&&(b.$L=M),b},m.clone=function(){return N.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},x}(),A=$.prototype;return S.prototype=A,[["$ms",s],["$s",a],["$m",o],["$H",i],["$W",l],["$M",d],["$y",v],["$D",p]].forEach(function(x){A[x[1]]=function(m){return this.$g(m,x[0],x[1])}}),S.extend=function(x,m){return x.$i||(x(m,$,S),x.$i=!0),S},S.locale=C,S.isDayjs=O,S.unix=function(x){return S(1e3*x)},S.en=T[D],S.Ls=T,S.p={},S}();var ie=De,Ee={};({get exports(){return Ee},set exports(n){Ee=n}}).exports=function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},i=function(h){return(h=+h)+(h>68?1900:2e3)},l=function(h){return function(u){this[h]=+u}},r=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(u){if(!u||u==="Z")return 0;var _=u.match(/([+-]|\d\d)/g),y=60*_[1]+(+_[2]||0);return y===0?0:_[0]==="+"?-y:y}(h)}],d=function(h){var u=o[h];return u&&(u.indexOf?u:u.s.concat(u.f))},g=function(h,u){var _,y=o.meridiem;if(y){for(var w=1;w<=24;w+=1)if(h.indexOf(y(w,0,u))>-1){_=w>12;break}}else _=h===(u?"pm":"PM");return _},v={A:[a,function(h){this.afternoon=g(h,!1)}],a:[a,function(h){this.afternoon=g(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[t,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[s,l("seconds")],ss:[s,l("seconds")],m:[s,l("minutes")],mm:[s,l("minutes")],H:[s,l("hours")],h:[s,l("hours")],HH:[s,l("hours")],hh:[s,l("hours")],D:[s,l("day")],DD:[t,l("day")],Do:[a,function(h){var u=o.ordinal,_=h.match(/\d+/);if(this.day=_[0],u)for(var y=1;y<=31;y+=1)u(y).replace(/\[|\]/g,"")===h&&(this.day=y)}],M:[s,l("month")],MM:[t,l("month")],MMM:[a,function(h){var u=d("months"),_=(d("monthsShort")||u.map(function(y){return y.slice(0,3)})).indexOf(h)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[a,function(h){var u=d("months").indexOf(h)+1;if(u<1)throw new Error;this.month=u%12||u}],Y:[/[+-]?\d+/,l("year")],YY:[t,function(h){this.year=i(h)}],YYYY:[/\d{4}/,l("year")],Z:r,ZZ:r};function p(h){var u,_;u=h,_=o&&o.formats;for(var y=(h=u.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(S,N,$){var A=$&&$.toUpperCase();return N||_[$]||n[$]||_[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,m,f){return m||f.slice(1)})})).match(e),w=y.length,c=0;c<w;c+=1){var D=y[c],T=v[D],O=T&&T[0],C=T&&T[1];y[c]=C?{regex:O,parser:C}:D.replace(/^\[|\]$/g,"")}return function(S){for(var N={},$=0,A=0;$<w;$+=1){var x=y[$];if(typeof x=="string")A+=x.length;else{var m=x.regex,f=x.parser,V=S.slice(A),b=m.exec(V)[0];f.call(N,b),S=S.replace(b,"")}}return function(M){var E=M.afternoon;if(E!==void 0){var L=M.hours;E?L<12&&(M.hours+=12):L===12&&(M.hours=0),delete M.afternoon}}(N),N}}return function(h,u,_){_.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(i=h.parseTwoDigitYear);var y=u.prototype,w=y.parse;y.parse=function(c){var D=c.date,T=c.utc,O=c.args;this.$u=T;var C=O[1];if(typeof C=="string"){var S=O[2]===!0,N=O[3]===!0,$=S||N,A=O[2];N&&(A=O[2]),o=this.$locale(),!S&&A&&(o=_.Ls[A]),this.$d=function(V,b,M){try{if(["x","X"].indexOf(b)>-1)return new Date((b==="X"?1e3:1)*V);var E=p(b)(V),L=E.year,k=E.month,P=E.day,q=E.hours,j=E.minutes,B=E.seconds,se=E.milliseconds,Z=E.zone,J=new Date,I=P||(L||k?1:J.getDate()),F=L||J.getFullYear(),X=0;L&&!k||(X=k>0?k-1:J.getMonth());var G=q||0,he=j||0,fe=B||0,pe=se||0;return Z?new Date(Date.UTC(F,X,I,G,he,fe,pe+60*Z.offset*1e3)):M?new Date(Date.UTC(F,X,I,G,he,fe,pe)):new Date(F,X,I,G,he,fe,pe)}catch{return new Date("")}}(D,C,T),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),$&&D!=this.format(C)&&(this.$d=new Date("")),o={}}else if(C instanceof Array)for(var x=C.length,m=1;m<=x;m+=1){O[1]=C[m-1];var f=_.apply(this,O);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}m===x&&(this.$d=new Date(""))}else w.call(this,c)}}}();var Lt=Ee;ie.extend(Lt);const Ge=(n,e)=>{let t;if(e)switch(e){case"ISO_8601":t=n;break;case"RFC_2822":t=ie(n.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":t=ie(n,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":t=ie(n).unix();break;default:t=ie(n,e,!0).valueOf()}return t},te=(n,e)=>{if((n==null?void 0:n.constructor)===Object&&Object.prototype.hasOwnProperty.call(n,"data")&&!Object.keys(n).find(s=>!["text","order","data"].includes(s)))return n;const t={data:n};switch(e.type){case"string":typeof n!="string"&&(t.text=String(t.data),t.order=t.text);break;case"date":e.format&&(t.order=Ge(String(t.data),e.format));break;case"number":t.text=String(t.data),t.data=parseInt(t.data,10);break;case"html":{const s=Array.isArray(t.data)?{nodeName:"TD",childNodes:t.data}:ee(`<td>${String(t.data)}</td>`);t.data=s.childNodes||[];const a=ue(s);t.text=a,t.order=a;break}case"boolean":typeof t.data=="string"&&(t.data=t.data.toLowerCase().trim()),t.data=!["false",!1,null,void 0,0].includes(t.data),t.order=t.data?1:0,t.text=String(t.data);break;case"other":t.text="",t.order=0;break;default:t.text=JSON.stringify(t.data)}return t},oe=n=>{if(n instanceof Object&&n.constructor===Object&&n.hasOwnProperty("data")&&(typeof n.text=="string"||typeof n.data=="string"))return n;const e={data:n};if(typeof n=="string"){if(n.length){const t=ee(`<th>${n}</th>`);if(t.childNodes&&(t.childNodes.length!==1||t.childNodes[0].nodeName!=="#text")){e.data=t.childNodes,e.type="html";const s=ue(t);e.text=s}}}else[null,void 0].includes(n)?e.text="":e.text=JSON.stringify(n);return e},ke=(n,e,t,s,a)=>{var i,l;const o={data:[],headings:[]};n.headings?o.headings=n.headings.map(r=>oe(r)):e!=null&&e.tHead?o.headings=Array.from(e.tHead.querySelectorAll("th")).map((r,d)=>{var p,h,u,_,y;const g=(w=>{const c=K(w,{valueDiffing:!1});let D;return D=!c.childNodes||c.childNodes.length===1&&c.childNodes[0].nodeName==="#text"?{data:w.innerText,type:"string"}:{data:c.childNodes,type:"html",text:ue(c)},D})(r);t[d]||(t[d]={type:s,format:a,searchable:!0,sortable:!0,isSplitQueryWord:!0});const v=t[d];return((p=r.dataset.sortable)==null?void 0:p.trim().toLowerCase())!=="false"&&((h=r.dataset.sort)==null?void 0:h.trim().toLowerCase())!=="false"||(v.sortable=!1),((u=r.dataset.searchable)==null?void 0:u.trim().toLowerCase())==="false"&&(v.searchable=!1),((_=r.dataset.hidden)==null?void 0:_.trim().toLowerCase())!=="true"&&((y=r.getAttribute("hidden"))==null?void 0:y.trim().toLowerCase())!=="true"||(v.hidden=!0),["number","string","html","date","boolean","other"].includes(r.dataset.type)&&(v.type=r.dataset.type,v.type==="date"&&r.dataset.format&&(v.format=r.dataset.format)),g}):(i=n.data)!=null&&i.length?o.headings=n.data[0].map(r=>oe("")):e!=null&&e.tBodies.length&&(o.headings=Array.from(e.tBodies[0].rows[0].cells).map(r=>oe("")));for(let r=0;r<o.headings.length;r++)t[r]||(t[r]={type:s,format:a,sortable:!0,searchable:!0});if(n.data?o.data=n.data.map(r=>r.map((d,g)=>te(d,t[g]))):(l=e==null?void 0:e.tBodies)!=null&&l.length&&(o.data=Array.from(e.tBodies[0].rows).map(r=>Array.from(r.cells).map((d,g)=>{const v=d.dataset.content?te(d.dataset.content,t[g]):((p,h)=>{let u;switch(h.type){case"string":u={data:p.innerText};break;case"date":{const _=p.innerText;u={data:_,order:Ge(_,h.format)};break}case"number":u={data:parseInt(p.innerText,10),text:p.innerText};break;case"boolean":{const _=!["false","0","null","undefined"].includes(p.innerText.toLowerCase().trim());u={data:_,order:_?1:0,text:_?"1":"0"};break}default:u={data:K(p,{valueDiffing:!1}).childNodes||[],text:p.innerText,order:p.innerText}}return u})(d,t[g]);return d.dataset.order&&(v.order=isNaN(parseFloat(d.dataset.order))?d.dataset.order:parseFloat(d.dataset.order)),v}))),o.data.length&&o.data[0].length!==o.headings.length)throw new Error("Data heading length mismatch.");return o};class At{constructor(e){this.dt=e,this.cursor=!1}setCursor(e=!1){if(e===this.cursor)return;const t=this.cursor;if(this.cursor=e,this.dt._renderTable(),e!==!1&&this.dt.options.scrollY){const s=this.dt.dom.querySelector(`tr.${this.dt.options.classes.cursor}`);s&&s.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,t)}add(e){const t=e.map((s,a)=>{const o=this.dt.columns.settings[a];return te(s,o)});this.dt.data.data.push(t),this.dt.data.data.length&&(this.dt.hasRows=!0),this.dt.update(!0)}remove(e){if(!Array.isArray(e))return this.remove([e]);this.dt.data.data=this.dt.data.data.filter((t,s)=>!e.includes(s)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(e,t){return this.dt.data.data.findIndex(s=>(s[e].text??String(s[e].data)).toLowerCase().includes(String(t).toLowerCase()))}findRow(e,t){const s=this.findRowIndex(e,t);if(s<0)return{index:-1,row:null,cols:[]};const a=this.dt.data.data[s],o=a.map(i=>i.data);return{index:s,row:a,cols:o}}updateRow(e,t){const s=t.map((a,o)=>{const i=this.dt.columns.settings[o];return te(a,i)});this.dt.data.data.splice(e,1,s),this.dt.update(!0)}}class $t{constructor(e){this.dt=e,this.init()}init(){[this.settings,this._state]=((e=[],t,s)=>{let a=[],o=!1;const i=[];return e.forEach(l=>{(Array.isArray(l.select)?l.select:[l.select]).forEach(r=>{a[r]||(a[r]={type:l.type||t,sortable:!0,searchable:!0,isSplitQueryWord:!0,searchQuerySeparator:" "});const d=a[r];l.render&&(d.render=l.render),l.format?d.format=l.format:l.type==="date"&&(d.format=s),l.cellClass&&(d.cellClass=l.cellClass),l.headerClass&&(d.headerClass=l.headerClass),l.locale&&(d.locale=l.locale),l.sortable===!1?d.sortable=!1:(l.numeric&&(d.numeric=l.numeric),l.caseFirst&&(d.caseFirst=l.caseFirst)),l.searchable===!1?d.searchable=!1:l.sensitivity&&(d.sensitivity=l.sensitivity),(d.searchable||d.sortable)&&l.ignorePunctuation&&(d.ignorePunctuation=l.ignorePunctuation),l.hidden&&(d.hidden=!0),l.filter&&(d.filter=l.filter),l.sortSequence&&(d.sortSequence=l.sortSequence),l.sort&&(l.filter?i[r]=l.sort:o={column:r,dir:l.sort}),l.isSplitQueryWord!==void 0&&(d.isSplitQueryWord=l.isSplitQueryWord),l.searchQuerySeparator!==void 0&&(d.searchQuerySeparator=l.searchQuerySeparator)})}),a=a.map(l=>l||{type:t,format:t==="date"?s:void 0,sortable:!0,searchable:!0,isSplitQueryWord:!0,searchQuerySeparator:" "}),[a,{filters:i,sort:o,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}swap(e){if(e.length===2){const t=this.dt.data.headings.map((i,l)=>l),s=e[0],a=e[1],o=t[a];return t[a]=t[s],t[s]=o,this.order(t)}}order(e){this.dt.data.headings=e.map(t=>this.dt.data.headings[t]),this.dt.data.data=this.dt.data.data.map(t=>e.map(s=>t[s])),this.settings=e.map(t=>this.settings[t]),this.dt.update()}hide(e){e.length&&(e.forEach(t=>{this.settings[t]||(this.settings[t]={type:"string"}),this.settings[t].hidden=!0}),this.dt.update())}show(e){e.length&&(e.forEach(t=>{this.settings[t]||(this.settings[t]={type:"string",sortable:!0}),delete this.settings[t].hidden}),this.dt.update())}visible(e){var t;return e===void 0&&(e=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(e)?e.map(s=>{var a;return!((a=this.settings[s])!=null&&a.hidden)}):!((t=this.settings[e])!=null&&t.hidden)}add(e){const t=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([oe(e.heading)]),this.dt.data.data=this.dt.data.data.map((s,a)=>s.concat([te(e.data[a],e)])),this.settings[t]={type:e.type||"string",sortable:!0,searchable:!0},e.type||e.format||e.sortable||e.render||e.filter){const s=this.settings[t];e.render&&(s.render=e.render),e.format&&(s.format=e.format),e.cellClass&&(s.cellClass=e.cellClass),e.headerClass&&(s.headerClass=e.headerClass),e.locale&&(s.locale=e.locale),e.sortable===!1?s.sortable=!1:(e.numeric&&(s.numeric=e.numeric),e.caseFirst&&(s.caseFirst=e.caseFirst)),e.searchable===!1?s.searchable=!1:e.sensitivity&&(s.sensitivity=e.sensitivity),(s.searchable||s.sortable)&&e.ignorePunctuation&&(s.ignorePunctuation=e.ignorePunctuation),e.hidden&&(s.hidden=!0),e.filter&&(s.filter=e.filter),e.sortSequence&&(s.sortSequence=e.sortSequence)}this.dt.update(!0)}remove(e){if(!Array.isArray(e))return this.remove([e]);this.dt.data.headings=this.dt.data.headings.filter((t,s)=>!e.includes(s)),this.dt.data.data=this.dt.data.data.map(t=>t.filter((s,a)=>!e.includes(a))),this.dt.update(!0)}filter(e,t=!1){var o,i;if(!((i=(o=this.settings[e])==null?void 0:o.filter)!=null&&i.length))return;const s=this._state.filters[e];let a;if(s){let l=!1;a=this.settings[e].filter.find(r=>!!l||(r===s&&(l=!0),!1))}else{const l=this.settings[e].filter;a=l?l[0]:void 0}a?this._state.filters[e]=a:s&&(this._state.filters[e]=void 0),this.dt._currentPage=1,this.dt.update(),t||this.dt.emit("datatable.filter",e,a)}sort(e,t,s=!1){var i;const a=this.settings[e];if(s||this.dt.emit("datatable.sorting",e,t),!t){const l=!(!this._state.sort||this._state.sort.column!==e)&&((i=this._state.sort)==null?void 0:i.dir),r=(a==null?void 0:a.sortSequence)||["asc","desc"];if(l){const d=r.indexOf(l);t=d===-1?r[0]||"asc":d===r.length-1?r[0]:r[d+1]}else t=r.length?r[0]:"asc"}const o=!!["string","html"].includes(a.type)&&new Intl.Collator(a.locale||this.dt.options.locale,{usage:"sort",numeric:a.numeric||this.dt.options.numeric,caseFirst:a.caseFirst||this.dt.options.caseFirst,ignorePunctuation:a.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((l,r)=>{let d=l[e].order||l[e].data,g=r[e].order||r[e].data;if(t==="desc"){const v=d;d=g,g=v}return o?o.compare(String(d),String(g)):d<g?-1:d>g?1:0}),this._state.sort={column:e,dir:t},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",e,t)):s||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",e,t))}_measureWidths(){var t,s,a,o;const e=this.dt.data.headings.filter((i,l)=>{var r;return!((r=this.settings[l])!=null&&r.hidden)});if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&(e!=null&&e.length)){this._state.widths=[];const i={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(i.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),i.noColumnWidths=!0,this.dt._renderTable(i);const l=Array.from(((s=(t=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:t.firstElementChild)==null?void 0:s.querySelectorAll("th"))||[]);let r=0;const d=this.dt.data.headings.map((v,p)=>{var u;if((u=this.settings[p])!=null&&u.hidden)return 0;const h=l[r].offsetWidth;return r+=1,h}),g=d.reduce((v,p)=>v+p,0);this._state.widths=d.map(v=>v/g*100)}else{i.renderHeader=!0,this.dt._renderTable(i);const l=Array.from(((o=(a=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:a.firstElementChild)==null?void 0:o.querySelectorAll("th"))||[]);let r=0;const d=this.dt.data.headings.map((v,p)=>{var u;if((u=this.settings[p])!=null&&u.hidden)return 0;const h=l[r].offsetWidth;return r+=1,h}),g=d.reduce((v,p)=>v+p,0);this._state.widths=d.map(v=>v/g*100)}this.dt._renderTable()}}}const le={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,isSplitQueryWord:!0,searchQuerySeparator:" ",data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"",nextText:"",firstText:"",lastText:"",ellipsisText:"",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(n,e)=>`<div class='${n.classes.top}'>
    ${n.paging&&n.perPageSelect?`<div class='${n.classes.dropdown}'>
            <label>
                <select class='${n.classes.selector}'></select> ${n.labels.perPage}
            </label>
        </div>`:""}
    ${n.searchable?`<div class='${n.classes.search}'>
            <input class='${n.classes.input}' placeholder='${n.labels.placeholder}' type='search' title='${n.labels.searchTitle}'${e.id?` aria-controls="${e.id}"`:""}>
        </div>`:""}
</div>
<div class='${n.classes.container}'${n.scrollY.length?` style='height: ${n.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${n.classes.bottom}'>
    ${n.paging?`<div class='${n.classes.info}'></div>`:""}
    <nav class='${n.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},ae=(n,e,t,s={})=>({nodeName:"LI",attributes:{class:s.active&&!s.hidden?`${t.classes.paginationListItem} ${t.classes.active}`:s.hidden?`${t.classes.paginationListItem} ${t.classes.hidden} ${t.classes.disabled}`:t.classes.paginationListItem},childNodes:[{nodeName:"A",attributes:{"data-page":String(n),class:t.classes.paginationListItemLink},childNodes:[{nodeName:"#text",data:e}]}]}),kt=(n,e,t,s,a)=>{let o=[];if(a.firstLast&&o.push(ae(1,a.firstText,a)),a.nextPrev){const l=n?1:t-1;o.push(ae(l,a.prevText,a,{hidden:n}))}let i=[...Array(s).keys()].map(l=>ae(l+1,String(l+1),a,{active:l===t-1}));if(a.truncatePager&&(i=((l,r,d,g)=>{const v=g.pagerDelta,p=g.classes,h=g.ellipsisText,u=2*v;let _=r-v,y=r+v;r<4-v+u?y=3+u:r>d-(3-v+u)&&(_=d-(2+u));const w=[];for(let T=1;T<=d;T++)if(T==1||T==d||T>=_&&T<=y){const O=l[T-1];w.push(O)}let c;const D=[];return w.forEach(T=>{const O=parseInt(T.childNodes[0].attributes["data-page"],10);if(c){const C=parseInt(c.childNodes[0].attributes["data-page"],10);if(O-C==2)D.push(l[C]);else if(O-C!=1){const S={nodeName:"LI",attributes:{class:`${p.paginationListItem} ${p.ellipsis} ${p.disabled}`},childNodes:[{nodeName:"A",attributes:{class:p.paginationListItemLink},childNodes:[{nodeName:"#text",data:h}]}]};D.push(S)}}D.push(T),c=T}),D})(i,t,s,a)),o=o.concat(i),a.nextPrev){const l=e?s:t+1;o.push(ae(l,a.nextText,a,{hidden:e}))}return a.firstLast&&o.push(ae(s,a.lastText,a)),{nodeName:"UL",attributes:{class:a.classes.paginationList},childNodes:i.length>1?o:[]}};class Pt{constructor(e,t={}){const s=typeof e=="string"?document.querySelector(e):e;s instanceof HTMLTableElement?this.dom=s:(this.dom=document.createElement("table"),s.appendChild(this.dom));const a={...le.diffDomOptions,...t.diffDomOptions},o={...le.labels,...t.labels},i={...le.classes,...t.classes};this.options={...le,...t,diffDomOptions:a,labels:o,classes:i},this._initialInnerHTML=this.options.destroyable?this.dom.innerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new Ct(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||this.dom.classList.contains(this.options.classes.table))return!1;this._virtualDOM=K(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this.rows=new At(this),this.columns=new $t(this),this.data=ke(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=Te("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const e=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);e&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(t=>{const[s,a]=Array.isArray(t)?[t[0],t[1]]:[String(t),t],o=a===this.options.perPage,i=new Option(s,String(a),o,o);e.appendChild(i)}):e&&e.parentElement.removeChild(e),this.containerDOM=this.wrapperDOM.querySelector(`.${this.options.classes.container}`),this._pagerDOMs=[],Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.pagination}`)).forEach(t=>{t instanceof HTMLElement&&(t.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(t.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}},this._label=this.wrapperDOM.querySelector(`.${this.options.classes.info}`),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(e={}){let t=$e(this._tableAttributes,this.data.headings,(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!e.noPaging?this.pages[this._currentPage-1]:this.data.data.map((a,o)=>({row:a,index:o})),this.columns.settings,this.columns._state,this.rows.cursor,this.options,e);if(this.options.tableRender){const a=this.options.tableRender(this.data,t,"main");a&&(t=a)}const s=this._dd.diff(this._virtualDOM,t);this._dd.apply(this.dom,s),this._virtualDOM=t}_renderPage(e=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let t,s=0,a=0,o=0;if(this.totalPages&&(s=this._currentPage-1,a=s*this.options.perPage,o=a+this.pages[s].length,a+=1,t=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const i=this.options.labels.info.replace("{start}",String(a)).replace("{end}",String(o)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(t));this._label.innerHTML=t?i:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(i=>i.index===this.rows.cursor))){const i=this.pages[this._currentPage-1];i.length&&(e?this.rows.setCursor(i[i.length-1].index):this.rows.setCursor(i[0].index))}}_renderPagers(){if(!this.options.paging)return;let e=kt(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const s=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],e);s&&(e=s)}const t=this._dd.diff(this._virtualPagerDOM,e);this._pagerDOMs.forEach(s=>{this._dd.apply(s,t)}),this._virtualPagerDOM=e}_renderSeparateHeader(){const e=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),e.parentElement.insertBefore(this.headerDOM,e);let t={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[xe(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(t.attributes.class=t.attributes.class?`${t.attributes.class} ${this.options.classes.table}`:this.options.classes.table,this.options.tableRender){const i=this.options.tableRender(this.data,t,"header");i&&(t=i)}const s={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[t]},a=this._dd.diff(this._virtualHeaderDOM,s);this._dd.apply(this.headerDOM,a),this._virtualHeaderDOM=s;const o=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(o){const i=structuredClone(this._virtualHeaderDOM);i.attributes.style=`padding-right: ${o}px;`;const l=this._dd.diff(this._virtualHeaderDOM,i);this._dd.apply(this.headerDOM,l),this._virtualHeaderDOM=i}e.scrollHeight>e.clientHeight&&(e.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const e=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);e&&e instanceof HTMLSelectElement&&e.addEventListener("change",()=>{this.options.perPage=parseInt(e.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",e=>{const t=e.target;if(!(t instanceof HTMLInputElement&&t.matches(`.${this.options.classes.input}`)))return;e.preventDefault();const s=Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).filter(a=>a.value.length).map(a=>a.dataset.columns?{term:a.value,columns:JSON.parse(a.dataset.columns)}:{term:a.value,columns:void 0});if(s.length===1){const a=s[0];this.search(a.term,a.columns)}else this.multiSearch(s)}),this.wrapperDOM.addEventListener("click",e=>{const t=e.target.closest("a");if(t){if(t.hasAttribute("data-page"))this.page(parseInt(t.getAttribute("data-page"),10)),e.preventDefault();else if(t.classList.contains(this.options.classes.sorter)){const s=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),a=Oe(s,this.columns.settings);this.columns.sort(a),e.preventDefault()}else if(t.classList.contains(this.options.classes.filter)){const s=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),a=Oe(s,this.columns.settings);this.columns.filter(a),e.preventDefault()}}},!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",e=>{if(e.key==="ArrowUp"){let t;e.preventDefault(),e.stopPropagation(),this.pages[this._currentPage-1].find(s=>s.index===this.rows.cursor||(t=s,!1)),t?this.rows.setCursor(t.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(e.key==="ArrowDown"){let t;e.preventDefault(),e.stopPropagation();const s=this.pages[this._currentPage-1].find(a=>!!t||(a.index===this.rows.cursor&&(t=!0),!1));s?this.rows.setCursor(s.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(e.key)&&this.emit("datatable.selectrow",this.rows.cursor,e)}),this.dom.addEventListener("mousedown",e=>{const t=e.target;if(t instanceof Element&&this.dom.matches(":focus")){const s=Array.from(this.dom.querySelectorAll("body tr")).find(a=>a.contains(t));s&&s instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(s.dataset.index,10),e)}})):this.dom.addEventListener("mousedown",e=>{const t=e.target;if(!(t instanceof Element))return;const s=Array.from(this.dom.querySelectorAll("body tr")).find(a=>a.contains(t));s&&s instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(s.dataset.index,10),e)}),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){this.options.destroyable&&(this.dom.innerHTML=this._initialInnerHTML,this.dom.classList.remove(this.options.classes.table),this.wrapperDOM.parentElement&&this.wrapperDOM.parentElement.replaceChild(this.dom,this.wrapperDOM),this.initialized=!1,window.removeEventListener("resize",this._listeners.onResize))}update(e=!1){e&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),this.wrapperDOM.classList.remove(this.options.classes.empty),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let e=this.data.data.map((t,s)=>({row:t,index:s}));return this._searchQueries.length&&(e=[],this._searchData.forEach(t=>e.push({index:t,row:this.data.data[t]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((t,s)=>{t&&(e=e.filter(a=>typeof t=="function"?t(a.row[s].data):(a.row[s].text??a.row[s].data)===t))}),this.options.paging&&this.options.perPage>0?this.pages=e.map((t,s)=>s%this.options.perPage==0?e.slice(s,s+this.options.perPage):null).filter(t=>t):this.pages=[e],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(e,t){if(!e.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{term:e,columns:t||void 0}]),this.emit("datatable.search",e,this._searchData)}multiSearch(e){if(!this.hasRows)return!1;if(this._currentPage=1,this._searchQueries=e,this._searchData=[],!(e=e.filter(s=>s.term.length)).length)return this.update(),this.emit("datatable.multisearch",e,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const t=e.map(s=>this.columns.settings.map((a,o)=>{if(a.hidden||!a.searchable||s.columns&&!s.columns.includes(o))return!1;let i=s.term;const l=a.sensitivity||this.options.sensitivity;return["base","accent"].includes(l)&&(i=i.toLowerCase()),["base","case"].includes(l)&&(i=i.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(a.ignorePunctuation||this.options.ignorePunctuation)&&(i=i.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,"")),i}));this.data.data.forEach((s,a)=>{const o=s.map((i,l)=>{let r=(i.text||String(i.data)).trim();if(r.length){const d=this.columns.settings[l],g=d.sensitivity||this.options.sensitivity;["base","accent"].includes(g)&&(r=r.toLowerCase()),["base","case"].includes(g)&&(r=r.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(d.ignorePunctuation||this.options.ignorePunctuation)&&(r=r.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}return r});t.every(i=>i.find((l,r)=>!!l&&(this.columns.settings[r].isSplitQueryWord?l.split(this.columns.settings[r].searchQuerySeparator):[l]).find(d=>o[r].includes(d.trim()))))&&this._searchData.push(a)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",e,this._searchData)}page(e,t=!1){return e!==this._currentPage&&(isNaN(e)||(this._currentPage=e),!(e>this.pages.length||e<0)&&(this._renderPage(t),this._renderPagers(),void this.emit("datatable.page",e)))}insert(e){let t=[];if(Array.isArray(e)){const s=this.data.headings.map(a=>a.text??String(a.data));e.forEach((a,o)=>{const i=[];Object.entries(a).forEach(([l,r])=>{const d=s.indexOf(l);d>-1?i[d]=te(r,this.columns.settings[d]):this.hasHeadings||this.hasRows||o!==0||(i[s.length]=te(r,this.columns.settings[s.length]),s.push(l),this.data.headings.push(oe(l)))}),t.push(i)})}else yt(e)&&(!e.headings||this.hasHeadings||this.hasRows?e.data&&Array.isArray(e.data)&&(t=e.data.map(s=>s.map((a,o)=>te(a,this.columns.settings[o])))):this.data=ke(e,void 0,this.columns.settings,this.options.type,this.options.format));t.length&&t.forEach(s=>this.data.data.push(s)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){this.options.searchable&&(Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).forEach(e=>{e.value=""}),this._searchQueries=[]),this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const e=Te("table");let t=$e(this._tableAttributes,this.data.headings,this.data.data.map((o,i)=>({row:o,index:i})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0});if(this.options.tableRender){const o=this.options.tableRender(this.data,t,"print");o&&(t=o)}const s=this._dd.diff({nodeName:"TABLE"},t);this._dd.apply(e,s);const a=window.open();a.document.body.appendChild(e),a.print()}setMessage(e){const t=this.data.headings.filter((o,i)=>{var l;return!((l=this.columns.settings[i])!=null&&l.hidden)}).length||1;this.wrapperDOM.classList.add(this.options.classes.empty),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let s={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[xe(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(t)},childNodes:[{nodeName:"#text",data:e}]}]}]}]};if(s.attributes.class=s.attributes.class?`${s.attributes.class} ${this.options.classes.table}`:this.options.classes.table,this.options.tableRender){const o=this.options.tableRender(this.data,s,"message");o&&(s=o)}const a=this._dd.diff(this._virtualDOM,s);this._dd.apply(this.dom,a),this._virtualDOM=s}on(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)}off(e,t){e in this._events&&this._events[e].splice(this._events[e].indexOf(t),1)}emit(e,...t){if(e in this._events)for(let s=0;s<this._events[e].length;s++)this._events[e][s](...t)}}let Pe=new Me;const Y=n=>{Toastify({text:n,className:"error",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast()},be=document.querySelector(".form:not(.update) form#formUser");let ne=document.querySelector('#formUser .group input[name="password"]');const R={letter:document.querySelector(".password-validation #letter"),capital:document.querySelector(".password-validation #capital"),number:document.querySelector(".password-validation #number"),length:document.querySelector(".password-validation #length")};let z=!1;ne&&ne.addEventListener("keyup",function(){let n=/[a-z]/g;ne.value.match(n)?(R.letter.removeClass("invalid"),R.letter.addClass("valid"),z=!0):(R.letter.removeClass("valid"),R.letter.addClass("invalid"),z=!1);let e=/[A-Z]/g;ne.value.match(e)?(R.capital.removeClass("invalid"),R.capital.addClass("valid"),z=!0):(R.capital.removeClass("valid"),R.capital.addClass("invalid"),z=!1);let t=/[0-9]/g;ne.value.match(t)?(R.number.removeClass("invalid"),R.number.addClass("valid"),z=!0):(R.number.removeClass("valid"),R.number.addClass("invalid"),z=!1),ne.value.length>=8?(R.length.removeClass("invalid"),R.length.addClass("valid"),z=!0):(R.length.removeClass("valid"),R.length.addClass("invalid"),z=!1)});const Ht=/[^a-zA-Z0-9]+/g;let _e=document.querySelector('#formUser .group input[name="username"]');_e&&_e.addEventListener("input",function(n){let e=n.target.value;_e.value=e.replace(Ht,"")});const He=document.querySelectorAll(".avatares .list .item:not(#userAvatar) input");He&&He.forEach(n=>{n.addEventListener("change",e=>{const t=document.querySelector(".avatares .list .item#avatar");t&&t.removeClass("selected")})});document.addEventListener("click",function(n){if(!n.target.matches(".avatares .list .item#avatar"))return;n.preventDefault();const e=document.querySelector(".avatares .list .item input:checked");e&&(e.checked=!1),n.target.addClass("selected")});const qe=async n=>{let e=new FormData,t;return e.append("avatar",n),await Ve.post(route("validateAvatar.store"),e,{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(function(s){const{data:a,data:{status:o,msg:i}}=s;if(o==="error"){for(let l of i)Y(l);return t=!1,!1}t=!0}).catch(function(s){console.log("error: ",s)}),t},qt=function(n){const e=document.querySelector(n);let t;e&&(t=e.nextElementSibling,t.addEventListener("change",function(s){const a=s.target.files,o={...a};qe(a[0]).then(i=>{i&&Ie(o)}),t.value=""}),e.addEventListener("click",()=>t.click()),e.addEventListener("dragover",s=>{s.preventDefault()}),e.addEventListener("drop",s=>{s.preventDefault();const a=s.dataTransfer.files,o={...a};qe(a[0]).then(i=>{i&&Ie(o)}),t.value=""}))};qt("#userAvatar #choose");function Ie(n){It();const e=document.querySelector(".avatares .list"),t=URL.createObjectURL(n[0]),s=document.createElement("div"),a=document.querySelector(".avatares .list .item input:checked");a&&(a.checked=!1),s.addClass("item selected"),s.setAttribute("id","avatar"),s.innerHTML=`
        <div class="avatar">
            <img src="${t}" alt="avatar">
			<input type="file" name="avatar_file" accept="image/jpg,image/png,image/jpeg,image/gif" hidden>
        </div>
    `,e.append(s);const o=new DataTransfer,i=document.querySelector(".avatares #avatar input");o.items.add(n[0]),i.files=o.files}function It(){const n=document.querySelector(".avatares #avatar");n&&n.remove()}const re=document.querySelector("#formUser .cover input");re&&re.addEventListener("input",Yt);function Yt(n){const e=document.querySelector("#formUser .cover .preview img"),t=n.target.value;if(e.removeClass("show"),!Qe(t))return!1;e.src=t,e.onload=a=>{},e.onerror=a=>{Y("Imagen invalida o enlace roto")};const s=a=>new Promise((o,i)=>{const l=new Image;l.onload=()=>o(l),l.onerror=r=>i(r),l.src=a});(async()=>{const a=await s(t);let o=!0;if(a.naturalWidth>1920&&(Y("El ancho maximo es 1920"),re.setAttribute("data-validated",!1),o=!1),a.naturalHeight>548&&(Y("El alto maximo es 548"),re.setAttribute("data-validated",!1),o=!1),!o)return!1;e.addClass("show"),re.setAttribute("data-validated",!0)})()}const W={list:document.querySelector("#formUser .redes .list"),listInputs:document.querySelectorAll("#formUser .redes .list .item:not(.add) input"),addInput:document.querySelector("#formUser .redes .list .add input")};W.listInputs&&W.listInputs.forEach(n=>{n.addEventListener("input",()=>{n.value===""?(Y("Campo requerido"),n.focus(),n.addClass("error")):n.removeClass("error")})});document.addEventListener("click",function(n){if(!n.target.matches("#formUser .redes .list .add .new"))return;n.preventDefault();let e=W.addInput.value,t=Date.now();if(e==="")return Y("Campo requerido"),W.addInput.focus(),W.addInput.addClass("error"),!1;if(W.addInput.removeClass("error"),Qe(e))W.addInput.removeClass("error");else return Y("Debes insertar un enlace valido"),W.addInput.focus(),W.addInput.addClass("error"),!1;let s=document.createElement("div");s.addClass("item"),s.setAttribute("id",`i-${t}`),s.innerHTML=`
		<div class="icon">
			<svg width="28px" height="28px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<circle cx="12" cy="12" r="8" stroke="#fff" stroke-width="2"/>
				<path d="M18.572 7.20637C17.8483 8.05353 16.8869 8.74862 15.7672 9.23422C14.6475 9.71983 13.4017 9.98201 12.1326 9.99911C10.8636 10.0162 9.60778 9.78773 8.4689 9.33256C7.33002 8.87739 6.34077 8.20858 5.58288 7.38139" stroke="#fff" stroke-width="2"/>
				<path d="M18.572 16.7936C17.8483 15.9465 16.8869 15.2514 15.7672 14.7658C14.6475 14.2802 13.4017 14.018 12.1326 14.0009C10.8636 13.9838 9.60778 14.2123 8.4689 14.6674C7.33002 15.1226 6.34077 15.7914 5.58288 16.6186" stroke="#fff" stroke-width="2"/>
				<path d="M12 4V20" stroke="#fff" stroke-width="2"/>
			</svg>
		</div>
		<input type="text" name="redes[]" value="${e}">
		<div class="action">
			<button class="delete" data-id="i-${t}">
				<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">
					<path stroke="none" d="M0 0h24v24H0z" fill="none"/>
					<line x1="4" y1="7" x2="20" y2="7" />
					<line x1="10" y1="11" x2="10" y2="17" />
					<line x1="14" y1="11" x2="14" y2="17" />
					<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
					<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
				</svg>
			</button>
		</div>
	`,W.list.append(s),W.addInput.value=""});document.addEventListener("click",function(n){if(!n.target.matches("#formUser .redes .list .item .delete"))return;n.preventDefault();let e=n.target.getAttribute("data-id");document.querySelector(`#${e}`).remove()});be&&be.addEventListener("submit",async function(n){if(n.preventDefault(),!Rt())return!1;const t=new FormData(this);await Ve.post(be.action,t,{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"multipart/form-data"}}).then(function(s){const{data:{success:a}}=s;a.status===200&&(Toastify({text:"Usuario creado correctamente",className:"success",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast(),setTimeout(()=>{window.location.href=route("users.index")},1e3)),console.log(s)}).catch(function(s){console.log(s)})});const Ye=document.querySelector(".frmo.update form#formUser");Ye&&Ye.addEventListener("submit",async function(n){if(!Ut())return n.preventDefault(),!1});function Rt(n){let e=document.querySelector('#formUser .group input[name="username"]');if(e&&e.value=="")return Y("Nombre de usuario es requerido"),e.focus(),!1;let t=document.querySelector('#formUser .group input[name="email"]');if(t&&t.value=="")return Y("Correo es requerido"),t.focus(),!1;if(!ze(t.value))return Y("Email invalido"),!1;let s=document.querySelector('#formUser .group input[name="password"]'),a=document.querySelector('#formUser .group input[name="password_confirmation"]');if(s&&s.value=="")return Y("Contrasea es requerida"),s.focus(),!1;if(!z)return Y("Contrasea invalida"),!1;if(a&&a.value=="")return Y("Confirmar Contrasea es requerido"),a.focus(),!1;if(s.value!=a.value)return Y("Las contraseas deben coincidir"),a.focus(),!1;let o=document.querySelector("#formUser .cover input");return o.value!=""&&o.dataset.validated==="false"&&(o.value=""),!0}function Ut(n){let e=document.querySelector('#formUser .group input[name="username"]');if(e&&e.value=="")return Y("Nombre de usuario es requerido"),e.focus(),!1;let t=document.querySelector('#formUser .group input[name="email"]');if(t&&t.value=="")return Y("Correo es requerido"),t.focus(),!1;if(!ze(t.value))return Y("Email invalido"),!1;let s=document.querySelector("#formUser .cover input");return s.value!=""&&s.dataset.validated==="false"&&(s.value=""),!0}document.addEventListener("click",function(n){if(!n.target.matches(".userDelete"))return;n.preventDefault();let e=n.target.getAttribute("data-id");Pe.fire({type:"warning",title:"Seguro que deseas eliminar?",text:"No podrs revertir esto!",confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.confirmed&&Ve.delete(route("users.destroy",[e]),{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(function(s){Toastify({text:s.data.msg,className:"success",duration:1e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast();let a=document.querySelector(".alertify"),o=document.querySelector(".al-overlay");Pe.close(a,o),setTimeout(()=>{window.location.href=route("users.index")},1e3)}).catch(function(s){console.log(s)})}).catch(t=>{console.log(t)})});let Re=new Me;document.addEventListener("click",function(n){if(!n.target.matches(".permissionDelete"))return;n.preventDefault();let e=n.target.getAttribute("data-id");Re.fire({type:"warning",title:"Seguro que deseas eliminar?",text:"No podrs revertir esto!",confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.confirmed&&axios.delete(route("permissions.destroy",[e]),{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(function(s){Toastify({text:s.data.msg,className:"success",duration:1e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast();let a=document.querySelector(".alertify"),o=document.querySelector(".al-overlay");Re.close(a,o),setTimeout(()=>{window.location.href=route("permissions.index")},1e3)}).catch(function(s){console.log(s)})}).catch(t=>{console.log(t)})});let Ue=new Me;document.addEventListener("click",function(n){if(!n.target.matches(".roleDelete"))return;n.preventDefault();let e=n.target.getAttribute("data-id");Ue.fire({type:"warning",title:"Seguro que deseas eliminar?",text:"No podrs revertir esto!",confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.confirmed&&axios.delete(route("roles.destroy",[e]),{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(function(s){Toastify({text:s.data.msg,className:"success",duration:1e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast();let a=document.querySelector(".alertify"),o=document.querySelector(".al-overlay");Ue.close(a,o),setTimeout(()=>{window.location.href=route("roles.index")},1e3)}).catch(function(s){console.log(s)})}).catch(t=>{console.log(t)})});let Fe=document.querySelector("#administrarPermisos"),Be=document.querySelector("#cerrarAdministrarPermisos"),ce=document.querySelector(".group.permisos .md-permissions");Fe&&Fe.addEventListener("click",function(){ce&&(ce.style.display="block")});Be&&Be.addEventListener("click",function(){ce&&(ce.style.display="none")});let Ft=document.querySelector(".table");Ft&&new Pt("#tablr",{perPage:15,labels:{placeholder:"Buscar...",searchTitle:"Buscar dentro de la tabla",perPage:"Elementos por pgina",noRows:"No hay elementos",info:"Mostrando {start} a {end} de {rows} elementos",noResults:"Ningn resultado coincide con su consulta de bsqueda"}});const We=document.querySelector(".template-1 form.form");if(We){let n=/[^a-zA-Z0-9]+/g,e=document.querySelector('.template-1 form input[name="name"]'),t=document.querySelector('.template-1 form input[name="slug"]');e.addEventListener("input",function(s){let a=s.target.value;t.value=a.replace(n,"-").toLowerCase()}),t&&t.addEventListener("input",function(s){let a=s.target.value;t.value=a.replace(n,"-").toLowerCase()}),We.addEventListener("submit",function(s){e=document.querySelector('.template-1 form input[name="name"]'),t=document.querySelector('.template-1 form input[name="slug"]'),e&&e.value==""?(s.preventDefault(),e.focus(),e.addClass("error"),Toastify({text:"Campo nombre requerido",className:"error",duration:2e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast()):e&&e.removeClass("error"),t&&t.value==""?(s.preventDefault(),t.focus(),t.addClass("error"),Toastify({text:"Campo slug requerido",className:"error",duration:2e3,newWindow:!0,close:!0,gravity:"top",position:"center"}).showToast()):t&&t.removeClass("error")})}
